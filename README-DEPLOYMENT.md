
# راهنمای کامل ساخت و توزیع دیجی‌کتاب

## آماده‌سازی اولیه

### پیش‌نیازها:
- Node.js (نسخه 16 یا بالاتر)
- npm یا yarn
- Android Studio (فقط برای ساخت اندروید)
- Git (برای clone کردن پروژه)

## روش ساخت سریع

### گام ۱: دانلود پروژه
```bash
# اگر از GitHub می‌آورید:
git clone [آدرس مخزن شما]
cd [نام پوشه پروژه]
```

### گام ۲: اجرای اسکریپت خودکار
```bash
# اجرای اسکریپت ساخت کامل
chmod +x build-script.sh
./build-script.sh
```

این اسکریپت تمام مراحل زیر را خودکار انجام می‌دهد:
- نصب وابستگی‌ها
- ساخت نسخه وب
- آماده‌سازی اندروید
- بسته‌بندی فایل‌ها

## روش دستی (اختیاری)

### برای وب:

1. **نصب وابستگی‌ها:**
```bash
npm install
```

2. **ساخت پروژه:**
```bash
npm run build
```

3. **بسته‌بندی:**
```bash
mkdir -p release
cp -r dist release/web
cd release && zip -r digiketab-web.zip web && cd ..
```

### برای اندروید:

1. **نصب Capacitor:**
```bash
npm install @capacitor/core @capacitor/cli @capacitor/android
```

2. **اضافه کردن پلتفرم:**
```bash
npx cap add android
```

3. **کپی فایل‌ها:**
```bash
npx cap copy
```

4. **باز کردن Android Studio:**
```bash
npx cap open android
```

5. **ساخت APK در Android Studio:**
   - Build > Generate Signed Bundle / APK
   - انتخاب APK
   - ایجاد یا انتخاب کلید امضا
   - ساخت APK

## فایل‌های خروجی

### نسخه وب:
- **مکان**: `release/digiketab-web.zip`
- **نحوه استفاده**: Extract کرده و روی سرور وب آپلود کنید
- **پشتیبانی**: تمام مرورگرهای مدرن

### نسخه اندروید:
- **مکان**: `android/app/build/outputs/apk/`
- **نحوه استفاده**: مستقیماً روی دستگاه نصب کنید
- **نیازمندی**: فعال کردن "منابع ناشناخته" در تنظیمات

## راهنمای توزیع

### برای مخاطبان وب:
1. فایل `digiketab-web.zip` را دریافت کنند
2. محتویات را extract کنند
3. پوشه `web` را روی سرور وب آپلود کنند
4. به آدرس سایت مراجعه کنند

### برای مخاطبان اندروید:
1. فایل APK را دریافت کنند
2. در تنظیمات گوشی، "منابع ناشناخته" را فعال کنند:
   - تنظیمات > امنیت > منابع ناشناخته ✅
3. روی فایل APK کلیک کرده و نصب کنند

## عیب‌یابی

### مشکلات رایج:

**خطای npm install:**
- پاک کردن `node_modules` و `package-lock.json`
- اجرای مجدد `npm install`

**خطای build:**
- بررسی نسخه Node.js (باید 16+ باشد)
- پاک کردن کش: `npm run build -- --force`

**مشکل اندروید:**
- بررسی نصب Android Studio
- بررسی متغیرهای محیطی Android SDK

**خطای Capacitor:**
```bash
npx cap doctor
```

## امکانات اضافی

### تنظیمات پیشرفته:
- تغییر آیکون اپ: جایگزینی فایل‌های در `android/app/src/main/res/`
- تغییر نام اپ: ویرایش `capacitor.config.ts`
- افزودن splash screen: ویرایش تنظیمات در `capacitor.config.ts`

### به‌روزرسانی:
برای هر تغییر در کد:
```bash
npm run build
npx cap copy
```

## پشتیبانی

این پروژه کاملاً مستقل است و نیازی به:
- اتصال اینترنت (بعد از نصب)
- سرور خاص
- پایگاه داده خارجی

ندارد.

---

**نکته امنیتی**: برای انتشار رسمی در Google Play، حتماً از کلید امضای معتبر استفاده کنید.
